# Story: v3.2.2 Anchor Account Semantics

> Add support for init_if_needed and token/associated token constraints.

## Goals

- Support `init_if_needed` in account attrs/config
- Support `token::mint` and `token::authority` constraints
- Support `associated_token::*` constraints

## Acceptance Criteria

### anchor/src/attr.zig

- [x] Add token/associated token attr helpers
- [x] Parse token/associated token keys in `parseAccount`

### anchor/src/account.zig

- [x] Add config fields for init_if_needed and token/associated token constraints
- [x] Merge new attrs and expose constants
- [x] Add tests for new attrs

### anchor/src/context.zig

- [x] Validate Accounts field references for new constraints

### Documentation

- [x] Update `docs/ANCHOR_COMPATIBILITY.md`

### Integration

- [x] Update ROADMAP.md
- [x] Update CHANGELOG.md
- [x] Tests passing

## Completion Status

- Start date: 2026-01-12
- Completion date: 2026-01-12
- Status: âœ… Completed
