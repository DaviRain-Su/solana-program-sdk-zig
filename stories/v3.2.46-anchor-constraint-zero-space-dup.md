# Story: v3.2.46 Anchor Zero/Space/Dup Constraints

> Enforce zero/space/dup constraints at runtime.

## Goals

- Validate `zero` by ensuring discriminator bytes are all zero.
- Enforce explicit `space` constraints with exact size checks.
- Reject duplicate mutable accounts unless `dup` is specified.

## Acceptance Criteria

### anchor/src/account.zig

- [x] `zero` validates discriminator bytes are all zero.
- [x] Explicit `space` constraint checks exact account size.
- [x] Tests cover zero and space validation.

### anchor/src/context.zig

- [x] Duplicate mutable accounts are rejected unless `dup` is set.
- [x] Tests cover duplicate mutable account checks.

### Documentation

- [x] Update `anchor/README.md` and `docs/ANCHOR_COMPATIBILITY.md`.

### Tests

- [x] `../solana-zig/zig build test --summary all` passes in `anchor/`.

## Completion Status

- Start date: 2026-01-13
- Completion date: 2026-01-13
- Status: âœ… Completed
