# Story: v3.2.66 ATA Init/Payer Semantics

> Add ATA init/payer semantics for typed DSL accounts.

## Goals

- Provide CPI helpers for Associated Token Account creation.
- Allow `typed_dsl.ATA` to express init/if_needed + payer semantics.
- Ensure runtime init path creates ATA and validates constraints.

## Acceptance Criteria

### anchor/src/associated_token.zig

- [x] CPI helpers for create/createIdempotent.
- [x] Program ID constant.

### anchor/src/token.zig

- [x] TokenAccount supports init/init_if_needed + payer/system/ata program fields.
- [x] Init path allows uninitialized load and invokes ATA create on validation.
- [x] Unit test for uninitialized init load.

### anchor/src/context.zig

- [x] Constraint validation passes mutable account references for init updates.

### anchor/src/typed_dsl.zig

- [x] ATA marker accepts init/if_needed + payer fields.
- [x] Compile-time validation for required program fields.

### Documentation

- [x] Update README and compatibility docs.
- [x] Add ATA init example.
- [x] Update ROADMAP and CHANGELOG.

## Completion Status

- Start date: 2026-01-15
- Completion date: 2026-01-15
- Status: âœ… Completed
