# Story: v3.2.63 Event Emission + Realloc Safety + PDA Seed Automation

> 完成 Anchor 事件发射、realloc 安全修复与 PDA/Seeds 自动化能力。

## Goals

- Add Anchor-compatible event runtime emission.
- Harden realloc safety checks to match Solana runtime constraints.
- Support runtime seed resolution (seedAccount/seedField/seedBump) with PDA validation.

## Acceptance Criteria

### anchor/src/event.zig

- [x] Emit events via `sol_log_data` with `[discriminator][borsh]` payload.
- [x] Provide `emitEvent`/`emitEventWithDiscriminator` helpers.
- [x] Tests cover discriminator and serialization safety.

### anchor/src/realloc.zig

- [x] Require payer for growth that needs rent.
- [x] Enforce 10KB single-transaction growth limit.
- [x] Add `PayerRequired`/`ReallocIncreaseTooLarge` errors and tests.

### anchor/src/context.zig

- [x] Add `Context.emit` for event emission.
- [x] Add `loadAccountsWithDependencies` for runtime seed resolution.
- [x] Validate seedField references at compile time.
- [x] Resolve seedAccount/seedField/seedBump at runtime and validate PDA.

### anchor/src/pda.zig

- [x] Add `validatePdaRuntime` for slice-based seed validation.

### anchor/src/seeds.zig

- [x] Add SeedBuffer append helpers for runtime seeds.
- [x] Add reference inspection helpers and tests.

### anchor/src/root.zig

- [x] Export event helpers and `loadAccountsWithDependencies`.
- [x] Export runtime seed helpers and PDA runtime validation.

### Documentation

- [x] Update ROADMAP entry.
- [x] Update CHANGELOG entry.
- [x] Update README/compatibility docs.
- [x] Add examples for event emission and PDA dependencies.

## Completion Status

- Start date: 2026-01-15
- Completion date: 2026-01-15
- Status: ✅ Completed
